# Augment Context Engine 安装教程

## MCP 简介

### 什么是 MCP？

MCP（Model Context Protocol，模型上下文协议）是一个标准化协议，允许 AI 代理工具连接到各种上下文服务。通过 MCP，AI 助手可以访问代码库、文档和其他资源，从而提供更准确、更具上下文感知的帮助。

### Augment Context Engine

Augment Context Engine 是一个强大的代码上下文服务，通过 MCP 协议可以集成到 Claude Code、Cursor、Zed 等多种 AI 开发工具中。它能够：

- 智能检索和理解代码库结构

- 提供精确的代码上下文信息

- 增强 AI 助手的代码理解和生成能力

- 支持大型项目的高效索引和查询

## 在 VS Code 的 Claude Code 扩展中集成 Context Engine

### 重要说明

本教程针对的是在 **VS Code 中安装 Claude Code 扩展**的使用场景。虽然配置过程中需要使用终端命令安装工具和进行配置，但最终的使用是在 VS Code 编辑器内通过 Claude Code 扩展进行的，而不是在终端命令行中使用。

### 前置要求

- 已安装 VS Code

- 已安装 Claude Code 扩展

- 已安装 Node.js 和 npm

- 拥有 Augment 账号

## 安装配置步骤

### 步骤 1：安装 Auggie CLI

打开终端，执行以下命令安装 Auggie CLI 工具（预发布版本）：

```bash
npm install -g @augmentcode/auggie@prerelease
```

### 步骤 2：登录 Augment

在终端中执行登录命令：

```bash
auggie login
```

此命令会自动打开浏览器窗口，完成身份验证流程。按照页面提示完成登录即可。

### 步骤 3：配置 MCP 服务器

根据您的使用场景，选择以下两种配置方式之一：

#### 方案 A：本地设置（推荐）

如果您在本地机器上已经安装并登录了 Auggie CLI，使用此方案：

```bash
claude mcp add-json auggie-mcp '{"type":"stdio","command":"auggie","args":["--mcp"]}'
```

#### 方案 B：远程设置

如果您需要在没有安装 Auggie CLI 的机器上使用，或需要使用特定的认证令牌，请先获取认证令牌：

```bash
auggie token print
```

命令会输出类似以下内容：

```plaintext
TOKEN={"accessToken":"your-access-token","tenantURL":"your-tenant-url","scopes":["read","write"]}
```

复制 `accessToken` 和 `tenantURL` 的值，然后执行配置命令：

```bash
claude mcp add-json auggie-mcp '{"type":"stdio","command":"auggie","args":["--mcp"],"env":{"AUGMENT_API_TOKEN":"your-access-token","AUGMENT_API_URL":"your-tenant-url"}}'
```

**注意：**将 `your-access-token` 和 `your-tenant-url` 替换为步骤 3 中获取的实际值。

### 步骤 4：验证集成

在终端中执行以下测试命令：

```bash
claude --print "Do you have access to the Augment codebase retrieval tool? Answer in one sentence."
```

如果配置成功，Claude 会确认它可以访问 `codebase-retrieval` 工具。

### 步骤 5：在 VS Code 中使用

配置完成后，您就可以在 VS Code 中通过 Claude Code 扩展使用 Augment Context Engine 了：

1. 打开 VS Code

2. 打开您的项目文件夹

3. 使用 Claude Code 扩展进行代码相关的对话和操作

4. Claude Code 现在可以访问您的代码库上下文，提供更准确的建议

## 高级配置

### 指定工作区路径

如果需要为特定项目指定索引路径，可以在配置中添加 `-w` 参数。将配置修改为：

```json
{
  "command": "auggie",
  "args": ["-w", "/path/to/project", "--mcp"],
  "env": {
    "AUGMENT_API_TOKEN": "your-access-token",
    "AUGMENT_API_URL": "your-tenant-url"
  }
}
```

**注意：**将 `/path/to/project` 替换为您实际项目的绝对路径。

### 多项目配置

如果您需要在不同项目间切换，可以为每个项目创建不同的 MCP 配置，使用不同的名称（如 `auggie-mcp-project1`、`auggie-mcp-project2`）。

## 常见问题

### 问：配置后在 VS Code 中看不到效果？

答：确保已重启 VS Code 和 Claude Code 扩展。某些情况下可能需要完全重启 VS Code 才能使配置生效。

### 问：本地设置和远程设置有什么区别？

答：

- **本地设置**：利用本地已登录的 Auggie CLI，配置更简单，无需手动管理令牌

- **远程设置**：适用于需要在多台机器间共享配置，或在未安装 CLI 的环境中使用的场景

### 问：如何更新或删除配置？

答：您可以通过 `claude mcp` 相关命令管理配置。具体命令可以通过 `claude mcp --help` 查看。

## 总结

通过以上步骤，您已经成功将 Augment Context Engine 集成到 VS Code 的 Claude Code 扩展中。现在，当您在 VS Code 中使用 Claude Code 时，它可以访问您的代码库上下文，提供更智能、更准确的代码建议和帮助。

记住，虽然配置过程需要使用终端命令，但实际使用时是在 VS Code 编辑器内通过图形界面操作的，让您的开发体验更加流畅和高效。
